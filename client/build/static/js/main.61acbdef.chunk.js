(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,a,t){e.exports=t(63)},35:function(e,a,t){},63:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(21),r=t.n(o),s=t(25),c=t(6);var i=function(){return l.a.createElement("div",{className:"container mt-3 text-center"},l.a.createElement("div",{className:"jumbotron jumbotron-fluid bg-dark"},l.a.createElement("h1",{className:"display-4 font-weight-bold text-white",style:{fontFamily:"courier"}},"REACT GOOGLE BOOK SEARCH"),l.a.createElement("h3",{className:"font-weight-bold text-white"},"Search for and Save Cool Books!")))};t(35);var m=function(){return l.a.createElement("nav",{className:"nav navbar-expand-lg navbar-dark"},l.a.createElement("a",{className:"nav-link text-dark",href:"/"},l.a.createElement("h3",null," Google Books")),l.a.createElement("a",{className:"nav-link mt-2 text-info",href:"/"},"Search"),l.a.createElement("a",{className:"nav-link mt-2 text-info",href:"/saved"},"Saved"))},d=t(22),u=t(23),h=t(28),v=t(24),f=t(29);var E=function(e){return l.a.createElement("div",{className:"container mt-3"},l.a.createElement("div",{className:"card"},l.a.createElement("h5",{className:"card-header"},"Book Search"),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:e.onClick},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Book"),l.a.createElement("input",{type:"text",className:"form-control",value:e.value,onChange:e.onChange,placeholder:"Example: Neil Gaiman",required:!0})),l.a.createElement("button",{className:"btn btn-sm float-right btn-dark",type:"submit"},"Search")))))};var k=function(e){var a=e.children;return l.a.createElement("div",{className:"container mt-3"},l.a.createElement("div",{className:"card"},l.a.createElement("h5",{className:"card-header"},"Results"),l.a.createElement("div",{className:"card-body"},a)))};var b=function(e){return l.a.createElement("div",{className:"card mb-3"},l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("div",{className:"col"},l.a.createElement("img",{src:e.thumbnail,className:"card-img",alt:e.title,style:{width:"200px"}})),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},e.title),l.a.createElement("p",{className:"card-text"},"Written By: ",e.author),l.a.createElement("p",{className:"card-text"},"Desc: ",e.description)),l.a.createElement("a",{href:e.href,target:"_blank",className:"btn btn-primary",role:"button"},"View"),"/"===window.location.pathname?l.a.createElement("span",{"data-index":e.index,className:"save btn btn-success",onClick:e.save},"Save"):l.a.createElement("span",{"data-index":e.index,className:"delete btn btn-danger",onClick:e.delete},"Delete"))))};var p=function(e){var a=e.children;return l.a.createElement("div",{className:"container mt-3"},l.a.createElement("div",{className:"card"},l.a.createElement("h5",{className:"card-header"},"Saved Results"),l.a.createElement("div",{className:"card-body"},a)))},g=t(8),N=t.n(g),S={searchBooks:function(e){return N.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)},getSavedBooks:function(){return N.a.get("/api/books/saved")},deleteBook:function(e){return N.a.delete("/api/books/delete/"+e)},saveBook:function(e,a){return N.a.post("/api/books/"+e,a)}},w=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(v.a)(a)).call.apply(e,[this].concat(l)))).state={results:[],savedBooks:[],bookSearch:""},t.handleSearch=function(e){e.preventDefault(),t.state.bookSearch&&S.searchBooks(t.state.bookSearch).then(function(e){return t.setState({results:e.data.items})}).catch(function(e){return console.log(e)})},t.handleInputChange=function(e){var a=e.target.value;t.setState({bookSearch:a})},t.handleSave=function(e){var a=e.target.attributes.getNamedItem("data-index").value,n=t.state.results[a];console.log(n);var l={title:n.volumeInfo.title,link:n.volumeInfo.previewLink,thumbnail:n.volumeInfo.imageLinks.thumbnail,author:n.volumeInfo.authors[0],description:n.volumeInfo.description,key:n.id};S.saveBook(l.key,l).then(S.getSavedBooks().then(function(e){t.setState({savedBooks:e.data}),console.log("In state",t.state.savedBooks),console.log("Length",t.state.savedBooks.length)}))},t.handleDelete=function(e){var a=e.target.attributes.getNamedItem("data-index").value,n=t.state.savedBooks[a];console.log(n._id),S.deleteBook(n._id).then(window.location.reload())},t}return Object(f.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;S.getSavedBooks().then(function(a){e.setState({savedBooks:a.data})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,"/"===window.location.pathname?l.a.createElement("div",null,l.a.createElement(E,{value:this.state.bookSearch,onChange:this.handleInputChange,onClick:this.handleSearch}),l.a.createElement(k,null,this.state.results.length?this.state.results.map(function(a,t){return l.a.createElement(b,{key:a.id,title:a.volumeInfo.title,author:a.volumeInfo.authors?a.volumeInfo.authors[0]:"Anonymous",href:a.volumeInfo.previewLink,thumbnail:a.volumeInfo.imageLinks?a.volumeInfo.imageLinks.thumbnail:"http://blogs.smithsonianmag.com/design/files/2013/03/smiley-face-1.jpg",description:a.volumeInfo.description,save:e.handleSave,index:t})}):l.a.createElement("h3",null,"No Results to Display"))):l.a.createElement(p,null,this.state.savedBooks.length?this.state.savedBooks.map(function(a,t){return l.a.createElement(b,{key:a._id,title:a.title,author:a.author,href:a.link,thumbnail:a.thumbnail?a.thumbnail:"http://blogs.smithsonianmag.com/design/files/2013/03/smiley-face-1.jpg",description:a.description,delete:e.handleDelete,index:t})}):l.a.createElement("h3",null,"No Saved Books")))}}]),a}(n.Component);var y=function(){return l.a.createElement(s.a,null,l.a.createElement("div",null,l.a.createElement(m,null),l.a.createElement(i,null),l.a.createElement(c.c,null,l.a.createElement(c.a,{exact:!0,path:"/",component:w}),l.a.createElement(c.a,{exact:!0,path:"/saved",component:w}))))};r.a.render(l.a.createElement(y,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.61acbdef.chunk.js.map